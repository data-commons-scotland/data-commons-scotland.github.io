{"version":3,"sources":["dcs/prototype_6/ui_region_position.cljs"],"mappings":";AAKA,AAAA,AAAMA,AAAQC;AAAd,AACM,AAAMC,AAAE,AAAKD;AAAb,AACK,AACE,AAAA,AAACE,AAAeD;AADlB;;AAAA,AAEE,AAAA,AAACC,AAAeD;AAFlB;;AAAA,AAGE,AAAA,AAACC,AAAeD;AAHlB;;AAAA,AAIE,AAAA,AAACC,AAAeD;AAJlB;;AAAA,AAKE,AAAA,AAACC,AAAeD;AALlB;;AAAA,AAAA;;;;;;;;AASX,AAAA,AAAME,AAAKC,AACAC,AACAC,AACAC;AAHX,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAkBS,AAAMC,AAAgB,AAAA,AAAA,AAEK,AAAA,AAAAC,AAACC,AACDE;AADA,AAAS,AAACD,AAAEP,AAAO,AAAA,AAAAK;AAFnBJ,AAEA,AAAA;AAGrBQ,AAAe,AAAA,AAAA,AAEK,AAAA,AAAAC,AAACJ,AACDE;AADA,AAAS,AAACD,AAAEP,AAAO,AAAA,AAAAU;AAFnBT,AAEA,AAAA;AAP1B,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAWoB,AAAKG,AAAgB,AAACT,AAAOS,AAC7B,AAAKK,AAAe,AAACd,AAAOc;AAEhD,AAAML,AAAgB,AAAA,AAAA,AAEK,AAAA,AAAAO,AAACL,AACDE;AADA,AAAS,AAACD,AAAEP,AAAO,AAAA,AAAAW;AAFnBT,AAEA,AAAA;AAGrBO,AAAe,AAAA,AAAA,AAEK,AAAA,AAAAG,AAACN,AACDE;AADA,AAAS,AAACD,AAAEP,AAAO,AAAA,AAAAY;AAFnBV,AAEA,AAAA;AAP1B,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAWoB,AAAKE,AAAgB,AAACT,AAAOS,AAC7B,AAAKK,AAAe,AAACd,AAAOc;AAEhD,AAAML,AAAgB,AAAA,AAAA,AAEK,AAAA,AAAAS,AAACP,AACDE;AADA,AAAS,AAACD,AAAEP,AAAO,AAAA,AAAAa;AAFnBV,AAEA,AAAA;AAIrBM,AAAe,AAAA,AAAA,AAEK,AAAA,AAAAK,AAACR,AACDE;AADA,AAAS,AAACD,AAAEP,AAAO,AAAA,AAAAc;AAFnBX,AAEA,AAAA;AAR1B,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAYoB,AAAKC,AAAgB,AAACT,AAAOS,AAC7B,AAAKK,AAAe,AAACd,AAAOc;;;AAGzD,AAAA,AAAMO;AAAN,AAAA,AAAA,AAAAD,AAAA,AAAAA,AAAA,AAAAA,AAAA,AAAAA,AACOhB,AACCkB,AACAC,AACAC,AACAC","names":["dcs.prototype-6.ui-region-position/suffix","n","s","clojure.string/ends-with?","dcs.prototype-6.ui-region-position/ele","region","household-waste-derivation-generation-positions","household-waste-derivation-percent-recycled-positions","household-co2e-derivation-generation-positions","latest-position","p1__26980#","cljs.core.filter","cljs.core._EQ_","cljs.core/first","trend-position","p1__26981#","p1__26982#","p1__26983#","p1__26984#","p1__26985#","cljs.core/deref","dcs.prototype-6.ui-region-position/create","dcs.prototype-6.state/region-holder","dcs.prototype-6.state/household-waste-derivation-generation-positions-holder","dcs.prototype-6.state/household-waste-derivation-percent-recycled-positions-holder","dcs.prototype-6.state/household-co2e-derivation-generation-positions-holder"],"sourcesContent":["(ns dcs.prototype-6.ui-region-position\n  (:require [clojure.string :as str]\n            [dcs.prototype-6.state :as state]))\n\n\n(defn suffix [n]\n      (let [s (str n)]\n           (cond\n             (str/ends-with? s \"11\") \"th\"\n             (str/ends-with? s \"12\") \"th\"\n             (str/ends-with? s \"13\") \"th\"\n             (str/ends-with? s \"1\") \"st\"\n             (str/ends-with? s \"2\") \"nd\"\n             :else \"th\")))\n\n\n(defn ele [region\n           household-waste-derivation-generation-positions\n           household-waste-derivation-percent-recycled-positions\n           household-co2e-derivation-generation-positions]\n\n      [:div\n       [:table.positions\n        [:thead\n         [:tr\n          [:th \"\"]\n          [:th#centre {:colspan 2} \"Position\"]]\n         [:tr\n          [:th.bottom-border \"Aim\"]\n          [:th.bottom-border \"Latest\"]\n          [:th.bottom-border \"Trend\"]]]\n\n        [:tbody\n\n         (let [latest-position (->> household-waste-derivation-generation-positions\n                                    :latest-positions\n                                    (filter #(= region (:region %)))\n                                    first\n                                    :position)\n               trend-position (->> household-waste-derivation-generation-positions\n                                   :trend-positions\n                                   (filter #(= region (:region %)))\n                                   first\n                                   :position)]\n              [:tr [:td \"Reduce waste generation\"]\n               [:td.position (str latest-position (suffix latest-position))]\n               [:td.position (str trend-position (suffix trend-position))]])\n\n         (let [latest-position (->> household-waste-derivation-percent-recycled-positions\n                                    :latest-positions\n                                    (filter #(= region (:region %)))\n                                    first\n                                    :position)\n               trend-position (->> household-waste-derivation-percent-recycled-positions\n                                   :trend-positions\n                                   (filter #(= region (:region %)))\n                                   first\n                                   :position)]\n              [:tr [:td \"Increase percentage recycled\"]\n               [:td.position (str latest-position (suffix latest-position))]\n               [:td.position (str trend-position (suffix trend-position))]])\n\n         (let [latest-position (->> household-co2e-derivation-generation-positions\n                                    :latest-positions\n                                    (filter #(= region (:region %)))\n                                    first\n                                    :position\n                                    )\n               trend-position (->> household-co2e-derivation-generation-positions\n                                   :trend-positions\n                                   (filter #(= region (:region %)))\n                                   first\n                                   :position)]\n              [:tr [:td \"Reduce carbon impact\"]\n               [:td.position (str latest-position (suffix latest-position))]\n               [:td.position (str trend-position (suffix trend-position))]])]]])\n\n\n(defn create []\n      [ele\n       @state/region-holder\n       @state/household-waste-derivation-generation-positions-holder\n       @state/household-waste-derivation-percent-recycled-positions-holder\n       @state/household-co2e-derivation-generation-positions-holder])"]}