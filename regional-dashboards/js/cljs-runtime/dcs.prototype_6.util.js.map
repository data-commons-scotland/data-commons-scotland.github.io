{"version":3,"sources":["dcs/prototype_6/util.cljs"],"mappings":";AAEA;;;AAAA,AAAMA;AAAN,AAGM,AAAMC;;AAEZ,AAAA,AAAMC,AACCC;AADP,AAEc,AAAA,AAAG,AAAG,AAACH,AAAKG;;AAE1B,AAAA,AAAMC,AACCC,AAAKC;AADZ,AAEM,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAMC;AAAN,AAIA,AAAA,AAAK,AAACA,AAAAA,AAAAA,AAAMD,AAAAA,AAAaD;;AAE/B,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAKG;AAaL,AAAA,AAAKC","names":["dcs.prototype-6.util/now","js/Date","dcs.prototype-6.util/secs-to-now","start-time","dcs.prototype-6.util/date-str","year","quarter","q-map","dcs.prototype-6.util/vega-embed-opts","dcs.prototype-6.util/easier-url-stem"],"sourcesContent":["(ns dcs.prototype-6.util)\n\n(defn now\n      \"Milliseconds since epoch\"\n      []\n      (.now js/Date))\n\n(defn secs-to-now\n      [start-time]\n      (double (/ (- (now) start-time) 1000)))\n\n(defn date-str\n      [year quarter]\n      (let [q-map {1 \"31 Mar\"\n                   2 \"30 Jun\"\n                   3 \"31 Aug\"\n                   4 \"31 Dec\"}]\n      (str (q-map quarter) \" \" year)))\n\n(def vega-embed-opts\n      ;; alternatively, to hide Vega's 3-dot menu, use: {:actions false}\n      {:actions {:export true\n                 :source true\n                 :compiled false\n                 :editor true}\n       :downloadFileName \"WasteMattersScotland-visualisation\"\n       :scaleFactor 2})\n\n;; For dcs-easier-open-data URLs I want to use the stem\n;;   https://github.com/data-commons-scotland/dcs-easier-open-data/raw/v1.0-beta/data/\n;; but it results in a \"redirect\"+\"cross site restriction\" problem.\n;; So, instead use the \"more direct\" stem:\n(def easier-url-stem \"https://raw.githubusercontent.com/data-commons-scotland/dcs-easier-open-data/v1.0-beta/data/\")"]}