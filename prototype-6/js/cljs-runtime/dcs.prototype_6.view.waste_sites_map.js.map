{"version":3,"sources":["dcs/prototype_6/view/waste_sites_map.cljs"],"mappings":";AAGA,AAAA,AAAMA;AAAN,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAkGwB,AAAA,AAAA,AAAA,AAAA,AAAA,AAACC,AAKA,AAAA,AAAA,AAAA,AAAA,AAAA,AAACA,AAyBF,AAAA,AAAA,AAAA,AAAA,AAAA,AAACA","names":["dcs.prototype-6.view.waste-sites-map/root","reitit.frontend.easy.href"],"sourcesContent":["(ns dcs.prototype-6.view.waste-sites-map\n  (:require [reitit.frontend.easy :as rfe]))\n\n(defn root\n      []\n\n      [:div\n       \n       [:section.section\n        [:div.content.has-text-centered\n         [:h1.title.is-5 \"Waste sites\"]\n         [:h2.subtitle.is-6.has-text-info \"Waste sites and the quantities of materials they receive\"]]\n\n        [:div.container\n         \n         ;; map | ui hints\n         [:div.columns.is-centered\n\n          ;; map\n          [:div.column.is-three-fifths\n           [:figure.image.is-3by4\n            [:iframe.has-ratio\n             {:src         \"waste-sites-cluster-map/\"\n              :scrolling   \"no\"\n              :border      \"no\"\n              :frameborder \"no\"}]]]\n\n          ;; ui hints\n          [:div.column\n\n           [:div.content.is-small\n            [:blockquote\n             [:p\n              [:span.is-small.has-text-danger \"NB: This is \" [:em \"work-in-progress\"] \".\"]\n              \" The following map tool is not yet integrated fully into this website.\"\n              \" Also, it currently includes only the materials incoming to waste sites during the year 2019.\"]]]\n\n           [:div.content\n\n            [:h3.subtitle.is-6.has-text-danger \"Key elements\"]\n            [:p\n\n             \"Each pie chart depicts the amounts of materials incoming to a single waste site, or the aggregation of waste sites within a map area.\"\n             ]\n\n             [:div.columns.is-flex.is-vcentered\n              [:column\n               [:figure.image.is-inline-block.is-48x48\n                [:img {:src \"https://github.com/data-commons-scotland/dcs-shorts/raw/master/cluster-map-of-materials-incoming/single-waste-site-pie.png\"}]]]\n              [:column\n               \"Depicts a single waste site.\"]]\n             [:div.columns.is-flex.is-vcentered\n              [:column\n               [:figure.image.is-inline-block.is-48x48\n                [:img {:src \"https://github.com/data-commons-scotland/dcs-shorts/raw/master/cluster-map-of-materials-incoming/multi-waste-sites-pie.png\"}]]]\n              [:column\n               \"Depicts an aggregation of 26 waste sites.\"]]\n             [:div.columns.is-flex.is-vcentered\n              [:column\n               [:figure.image.is-inline-block.is-32x32\n                [:img {:src \"https://github.com/data-commons-scotland/dcs-shorts/raw/master/cluster-map-of-materials-incoming/no-pie.png\"}]]]\n              [:column\n               \"(I.e. a number without a surrounding pie chart) depicts a waste site with no incoming materials (probably because the site was not operational during 2019).\"]]\n             [:div.columns.is-flex.is-vcentered\n              [:column\n              [:figure.image.is-inline-block.is-256x256\n               [:img {:src \"https://github.com/data-commons-scotland/dcs-shorts/raw/master/cluster-map-of-materials-incoming/segment-popup.png\"}]]]\n              [:column\n              \"Hovering the cursor over a pie segment will pop-up details about incoming tonnes of the material depicted by the segment.\"]]\n             [:div.columns.is-flex.is-vcentered\n              [:column\n               [:figure.image.is-inline-block.is-128x128\n                [:img {:src \"https://github.com/data-commons-scotland/dcs-shorts/raw/master/cluster-map-of-materials-incoming/area-highlighting.png\"}]]]\n              [:column\n               \"Hovering the cursor over a pie that depicts an aggregation will highlight the map area in which the aggregated waste sites are located.\"]]\n             [:div.columns.is-flex.is-vcentered\n              [:column\n               [:figure.image.is-inline-block\n                [:img {:src \"https://github.com/data-commons-scotland/dcs-shorts/raw/master/cluster-map-of-materials-incoming/waste-site-popup.png\"}]]]\n              [:column\n               \"Clicking on a single waste site will pop-up details about that waste site.\"]]\n             [:div.columns.is-flex.is-vcentered\n              [:column\n               [:figure.image.is-inline-block.is-64x64\n                [:img {:src \"https://github.com/data-commons-scotland/dcs-shorts/raw/master/cluster-map-of-materials-incoming/zoom-control.png\"}]]]\n              [:column\n               \"The webapp supports the usual zoom and pan controls. The user can also double-click on an aggregation pie to zoom into the area that it covers.\"]]\n             \n             ]\n\n           ]]\n         \n         ;; intro | data mapping\n         [:div.columns.is-centered\n\n          ;; intro\n          [:div.column.is-three-fifths\n           [:div.content\n\n            [:h3.subtitle.is-6.has-text-danger \"An introduction to this data\"]\n            [:p \"SEPA publish a \"\n             [:a {:href (rfe/href :dcs.prototype-6.router/easier-open-data-view nil {:target \"waste-site-io\"})} \"Site returns\"]\n             \" dataset that says:\"]\n            [:ul\n             [:li \"how many tonnes\"]\n             [:li \"of each (\"\n              [:a {:href (rfe/href :dcs.prototype-6.router/easier-open-data-view nil {:target \"ewc-coding\"})} \"EWC coded\"]\n              \") waste material\"]\n             [:li \"was moved in or out\"]\n             [:li \"of each authorised waste site in Scotland.\"]]\n            [:p \"Here is an extract:\"\n             [:figure.image.is-4by1.is-flex.is-justify-content-center\n              [:img {:src \"https://github.com/data-commons-scotland/dcs-shorts/raw/master/cluster-map-of-materials-incoming/screenshot-sepa-site-returns-sample.png\"\n                     :alt \"An extract of the 'Site returns' dataset\"}]]]\n            [:p \"This is impressive, ongoing data collection and curation by SEPA.\"]\n            [:p [:em \"But might some of its information be made more understandable to the general public by depicting it on a map?\"]]\n            [:p \"Towards answering that, we have built this map tool.\"]\n            \n            \n          ;; data mapping\n            [:h3.subtitle.is-6.has-text-danger \"Data mapping\"]\n            [:p \"To aid comprehension, SEPA often sorts waste materials into 33 categories.\"\n             \" We do the same for this map tool, mapping each EWC coded waste material into 1 of the 33 categories:\"\n             [:figure.image.is-128x128.is-flex.is-justify-content-center\n              [:img {:src \"https://github.com/data-commons-scotland/dcs-shorts/raw/master/cluster-map-of-materials-incoming/material-categories-sample.png\"\n                     :alt \"A sample of the 33 categories\"}]]]\n            [:p \"The Site returns dataset identifies waste sites by their Permit/Licence code.\"\n             \" We want our map to show additional information about each waste site.\"\n             \" Specifically, its name, council area, waste processing activities, client types,\"\n             \" and (of course!) location.\"]\n            [:p \"SEPA holds that additional information about waste sites, in a second dataset: \"\n             [:a {:href (rfe/href :dcs.prototype-6.router/easier-open-data-view nil {:target \"waste-site\"})} \"Waste sites and capacity summary\"] \".\"\n             \" Our map tool uses the Permit/Licence codes to cross-reference between the 2 SEPA datasets.\"]\n            ]]\n            \n            [:div.column]]]\n        \n        ]])\n\n"]}