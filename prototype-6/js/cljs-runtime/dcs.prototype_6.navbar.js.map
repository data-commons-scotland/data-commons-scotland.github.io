{"version":3,"sources":["dcs/prototype_6/navbar.cljs"],"mappings":"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","names":["dcs.prototype-6.navbar/remove-class","el","toggleable-class","el-classList","dcs.prototype-6.navbar/toggle-class","dcs.prototype-6.navbar/toggle-burger","_event","burger-el","js/document","navbarmenu-id","navbarmenu-el","dcs.prototype-6.navbar/collapse-burger","var_args","G__33351","dcs.prototype-6.navbar/navbar-clickable","js/Error","title","href","clojure.string/starts-with?","subtitle","dcs.prototype_6.navbar.navbar_clickable","cljs.core/assoc-in","p1__33352#","dcs.prototype-6.navbar/root","reitit.frontend.easy.href","dcs.prototype-6.util/easier-repo-data","goog.string/unescapeEntities"],"sourcesContent":["(ns dcs.prototype-6.navbar\n  (:require [clojure.string :as str]\n            [reitit.frontend.easy :as rfe]\n            [goog.string :as gstring]\n            [dcs.prototype-6.util :as util]))\n\n(defn remove-class [el toggleable-class]\n  (let [el-classList (.-classList el)]\n    (when (.contains el-classList toggleable-class)\n      (.remove el-classList toggleable-class))))\n\n(defn toggle-class [el toggleable-class]\n  (let [el-classList (.-classList el)]\n    (if (.contains el-classList toggleable-class)\n      (.remove el-classList toggleable-class)\n      (.add el-classList toggleable-class))))\n\n(defn toggle-burger\n  \"Expands/collapses the burger-ised menu\"\n  [_event]\n  (let [burger-el (.getElementById js/document \"topburger\")\n        ;burger-el (.-currentTarget _event)\n        navbarmenu-id (.-target (.-dataset burger-el))\n        navbarmenu-el (.getElementById js/document navbarmenu-id)]\n    (toggle-class burger-el \"is-active\")\n    (toggle-class navbarmenu-el \"is-active\")))\n\n(defn collapse-burger\n  \"Collapses the burger-ised menu. Only works when the burger is in-play.\"\n  []\n  (let [burger-el (.getElementById js/document \"topburger\")\n        navbarmenu-id (.-target (.-dataset burger-el))\n        navbarmenu-el (.getElementById js/document navbarmenu-id)]\n    (remove-class burger-el \"is-active\")\n    (remove-class navbarmenu-el \"is-active\")))\n\n(defn navbar-clickable\n      ([title href]\n       [:a.navbar-item\n        {:on-click #(collapse-burger) :href href :target (if (str/starts-with? href \"http\") \"_blank\" \"_self\")}  ;; Clickable navbar items should close the burger.\n        [:span.navbar-content\n         [:span.has-text-link-dark title]]])\n      ([title subtitle href]\n       (-> (navbar-clickable title href)\n           (assoc-in [2 2] [:p.is-size-7.has-text-info subtitle])))) ;; Append a vector that contains the subtitle\n\n(defn root []\n      [:nav.navbar.is-fixed-top.is-primary {:role \"navigation\"}\n\n       [:div.navbar-brand\n        [:a.navbar-item {:href (rfe/href :dcs.prototype-6.router/home-view)}\n         [:img.brand-logo {:src \"img/dcs-circle.png\" :alt \"Waste Matters Scotland logo\"}]\n         \"Waste Matters Scotland\"]\n        [:a.navbar-item]\n\n        [:span#topburger.navbar-burger.burger {:data-target \"topnavbar\" :on-click #(toggle-burger %) }\n         [:span]\n         [:span]\n         [:span]]]\n\n       [:div#topnavbar.navbar-menu\n\n        [:div.navbar-start\n         #_[:a.navbar-item {:href \"#\"} \"Left side items beside the brand logo\"]]\n\n        [:div.navbar-end\n\n         ;; Articles\n         [:div.navbar-item.has-dropdown.is-hoverable\n          [:label.navbar-link \"Articles\"]\n          [:div.navbar-dropdown.is-right\n           \n           [:div.navbar-item\n            [:p.has-text-weight-bold \"Learn from data-based articles\"]]\n           (navbar-clickable \"Stirling's bin collection\"\n                             [:span \"Interesting facts about Stirling's\"\n                              [:br] \"bin collection of household waste\"]\n                             (rfe/href :dcs.prototype-6.router/stirling-bin-collection-view))\n           (navbar-clickable \"Stirling Community Food\"\n                             [:span \"Graphs indicating how this organisation\"\n                              [:br] \"is reducing a community's food waste\"]\n                             (rfe/href :dcs.prototype-6.router/stirling-community-food-view))\n           (navbar-clickable \"The Fair Share\"\n                             [:span \"Discover how many \" [:em \"cars worth\"] \" of CO\" [:sub \"2\"] \"e is avoided\"\n                              [:br] \"each year by this university based, reuse store.\"]\n                             (rfe/href :dcs.prototype-6.router/fairshare-view))\n           (navbar-clickable \"The ACE furniture reuse initiative\"\n                             [:span \"Find out about the amounts and types of furniture\"\n                              [:br] \"that are being reused because of this initiative.\"]\n                             (rfe/href :dcs.prototype-6.router/ace-furniture-view))\n           (navbar-clickable \"Household waste analysis\"\n                             [:span \"What do households put into their bins\"\n                              [:br] \"and how appropriate are their disposal\"\n                              [:br] \"decisions?\"]\n                             (rfe/href :dcs.prototype-6.router/household-waste-analysis-view))\n           ]]\n         \n         ;; Tutorials\n         [:div.navbar-item.has-dropdown.is-hoverable\n          [:label.navbar-link \"Tutorials\"]\n          [:div.navbar-dropdown.is-right\n\n           [:div.navbar-item\n            [:p.has-text-weight-bold [:span [:em \"How to\"] \" guides\"]]]\n           (navbar-clickable \"Regional dashboard\"\n                             [:span \"How to understand the graphs\" \n                              [:br] \"on the \"[:em \"regional dashboard\"] \" page\"]\n                             (rfe/href :dcs.prototype-6.router/regional-dashboard-tutorial-view))]]\n\n         ;; Tools\n         [:div.navbar-item.has-dropdown.is-hoverable\n          [:label.navbar-link \"Tools\"]\n          [:div.navbar-dropdown.is-right\n           \n           [:div.navbar-item\n            [:p.has-text-weight-bold \"Explore using tools\"]]\n           (navbar-clickable \"Waste by region\"\n                             [:span \"Discover and compare regional\"\n                              [:br] \"waste figures\"]\n                             (rfe/href :dcs.prototype-6.router/dashboard-view))\n           (navbar-clickable \"Waste sites\"\n                             [:span \"Waste sites and the quantities of\"\n                              [:br] \"materials that they receive\"]\n                             (rfe/href :dcs.prototype-6.router/waste-sites-map-view))\n           (navbar-clickable \"Waste through the decade\"\n                             [:span \"Discover how waste, recycling and\"\n                              [:br] \"CO\" [:sub \"2\"] \"e amounts have been changing\"\n                              [:br] \"across Scotland over the last 10yrs\"]\n                             (rfe/href :dcs.prototype-6.router/waste-through-time-map-view {:preset \"hw-mgmt\"}))\n           (navbar-clickable \"Data grid & graph tool\"\n                             [:span \"Explore the data using this tool\"\n                              [:br] \"which allows you to select, filter\"\n                              [:br] \"and visualise our datasets\"]\n                             (rfe/href :dcs.prototype-6.router/pivot-drilldown-and-plot-view {:preset \"orig\"}))]]\n\n         ;; Data\n         [:div.navbar-item.has-dropdown.is-hoverable\n          [:label.navbar-link \"Data\"]\n          [:div.navbar-dropdown.is-right\n           \n           [:div.navbar-item\n            [:p.has-text-weight-bold \"About the data on this site\"]]\n           (navbar-clickable \"Introduction\"\n                             [:span \"An introduction to our \" [:em \"easier-to-use\"] [:br]\n                              \"datasets and their dimensions\"]\n                             (rfe/href :dcs.prototype-6.router/easier-open-data-view))\n\n           [:hr.navbar-divider]\n           [:div.navbar-item\n            [:p.has-text-weight-bold \"Directly access the dataset files\"]]\n           (navbar-clickable  [:span \"Household waste \" [:span.has-text-info.is-size-7 \"(JSON)\"]]\n                              (str util/easier-repo-data \"household-waste.json\"))\n           (navbar-clickable [:span \"Household CO\" [:span {:dangerouslySetInnerHTML {:__html \"<sub>2</sub>\"}}] \"e \" [:span.has-text-info.is-size-7 \"(JSON)\"]]\n                             (str util/easier-repo-data \"household-co2e.json\"))\n           (navbar-clickable [:span \"Business waste by region \" [:span.has-text-info.is-size-7 \"(JSON)\"]]\n                             (str util/easier-repo-data \"business-waste-by-region.json\"))\n           (navbar-clickable [:span \"Business waste by sector \" [:span.has-text-info.is-size-7 \"(JSON)\"]]\n                             (str util/easier-repo-data \"business-waste-by-sector.json\"))\n           (navbar-clickable [:span \"Waste site \" [:span.has-text-info.is-size-7 \"(JSON)\"]]\n                             (str util/easier-repo-data \"waste-site.json\"))\n           (navbar-clickable [:span \"Waste site ins & outs \" [:span.has-text-info.is-size-7 \"(CSV)\"]]\n                             (str util/easier-repo-data \"waste-site-io.csv\"))\n           (navbar-clickable [:span \"Stirling bin collection \" [:span.has-text-info.is-size-7 \"(JSON)\"]]\n                             (str util/easier-repo-data \"stirling-bin-collection.json\"))\n           (navbar-clickable [:span \"Material coding \" [:span.has-text-info.is-size-7 \"(JSON)\"]]\n                             (str util/easier-repo-data \"material-coding.json\"))\n           (navbar-clickable [:span \"EWC coding \" [:span.has-text-info.is-size-7 \"(JSON)\"]]\n                             (str util/easier-repo-data \"ewc-coding.json\"))\n           (navbar-clickable [:span \"CO\" [:span {:dangerouslySetInnerHTML {:__html \"<sub>2</sub>\"}}] \"e multipiers \" [:span.has-text-info.is-size-7 \"(JSON)\"]]\n                             (str util/easier-repo-data \"co2e-multiplier.json\"))\n           (navbar-clickable [:span \"Households \" [:span.has-text-info.is-size-7 \"(JSON)\"]]\n                             (str util/easier-repo-data \"households.json\"))\n           (navbar-clickable [:span \"Population \" [:span.has-text-info.is-size-7 \"(JSON)\"]]\n                             (str util/easier-repo-data \"population.json\"))]]\n\n         ;; About\n         [:a.navbar-item\n          {:on-click #(collapse-burger)\n           :href     (rfe/href :dcs.prototype-6.router/about-view)}\n          [:span (gstring/unescapeEntities \"&nbsp;\") \"About\" (gstring/unescapeEntities \"&nbsp;\")]]]]])"]}