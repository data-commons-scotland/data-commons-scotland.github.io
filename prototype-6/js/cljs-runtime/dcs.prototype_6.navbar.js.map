{"version":3,"sources":["dcs/prototype_6/navbar.cljs"],"mappings":"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","names":["var_args","args__4777__auto__","len__4771__auto__","i__4772__auto__","argseq__4778__auto__","cljs.core/IndexedSeq","dcs.prototype-6.navbar/close-burger","seq28027","self__4759__auto__","cljs.core/seq","_","seq__28028","chunk__28029","count__28030","i__28031","temp__5735__auto__","cljs.core/chunked-seq?","c__4591__auto__","cljs.core/chunk-first","cljs.core/chunk-rest","cljs.core/count","cljs.core/first","cljs.core/next","id","js/document","G__28033","dcs.prototype-6.navbar/navbar-clickable","js/Error","title","href","clojure.string/starts-with?","subtitle","dcs.prototype_6.navbar.navbar_clickable","cljs.core/assoc-in","dcs.prototype-6.navbar/root","reitit.frontend.easy.href","dcs.prototype-6.util/easier-repo-data"],"sourcesContent":["(ns dcs.prototype-6.navbar\n  (:require [clojure.string :as str]\n            [reagent.core :as r]\n            [reitit.frontend.easy :as rfe]\n            [dcs.prototype-6.util :as util]))\n\n\n(defn close-burger\n      \"Close-up the burger's dropdowns and the burger itself\"\n      [& _]\n      ;;  Comment-out. Isn't affecting clicked-on dropdowns as I'd like. Maybe give-up on this.\n      ;;  (doseq [id [\"explore-dropdown\" \"data-dropdown\" \"about-dropdown\" \"toggler\" ]]\n      ;;         (.remove (.-classList (.getElementById js/document id)) \"is-active\"))\n      (doseq [id [\"articles-checkbox\" \"tools-checkbox\" \"data-checkbox\" \"about-checkbox\" \"toggler\"]]\n             (set! (.-checked (.getElementById js/document id)) false)))\n\n(defn navbar-clickable\n      ([title href]\n       [:a.navbar-item\n        {:href href :on-click close-burger :target (if (str/starts-with? href \"http\") \"_blank\" \"_self\")}  ;; Clickable navbar items should close the burger.\n        [:span.navbar-content\n         title]])\n      ([title subtitle href]\n       (-> (navbar-clickable title href)\n           (assoc-in [2 2] [:p.is-size-7.has-text-info subtitle])))) ;; Append a vector that contains the subtitle\n\n(defn root []\n      [:nav.navbar.is-fixed-top.is-primary {:role \"navigation\"}\n\n       [:input#toggler.toggler {:type \"checkbox\"}]\n       [:div.navbar-brand\n        [:a.navbar-item {:href (rfe/href :dcs.prototype-6.router/home-view)}\n         [:img.brand-logo {:src \"img/dcs-circle.png\" :alt \"Waste Matters Scotland logo\"}]\n         \"Waste Matters Scotland\"]\n        [:a.navbar-item]\n\n        [:label.navbar-burger.burger {:data-target \"topnavbar\" :for \"toggler\" :role \"button\"}\n         [:span]\n         [:span]\n         [:span]]]\n\n       [:div#topnavbar.navbar-menu\n\n        [:div.navbar-start\n         #_[:a.navbar-item {:href \"#\"} \"Left side items beside the brand logo\"]]\n\n        [:div.navbar-end\n\n         ;; Articles\n         [:div.navbar-item.has-dropdown.is-hoverable\n          [:input#articles-checkbox {:type \"checkbox\"}]\n          [:label.navbar-link {:for \"articles-checkbox\"} \"Articles\"]\n          [:div#articles-dropdown.navbar-dropdown.is-right\n           [:div.navbar-item\n            [:p.has-text-link.has-text-weight-bold \"Learn from data-based articles\"]]\n           (navbar-clickable \"Stirling's bin collection\"\n                             [:span \"Interesting facts about Stirling's\"\n                              [:br] \"bin collection of household waste\"]\n                             (rfe/href :dcs.prototype-6.router/stirling-bin-collection-view))\n           (navbar-clickable \"Stirling Community Food\"\n                             [:span \"Graphs indicating how this organisation\"\n                              [:br] \"is reducing a community's food waste\"]\n                             (rfe/href :dcs.prototype-6.router/stirling-community-food-view))\n           (navbar-clickable \"The Fair Share\"\n                             [:span \"Discover how many \" [:em \"cars worth\"] \" of CO\" [:sub \"2\"] \"e is avoided\"\n                              [:br] \"each year by this university based, reuse store.\"]\n                             (rfe/href :dcs.prototype-6.router/fairshare-view))\n           (navbar-clickable \"Household waste analysis\"\n                             [:span \"What do households put into their bins\"\n                              [:br] \"and how appropriate are their disposal\"\n                              [:br] \"decisions?\"]\n                             (rfe/href :dcs.prototype-6.router/household-waste-analysis-view))\n           ]]\n\n         ;; Tools\n         [:div.navbar-item.has-dropdown.is-hoverable\n          [:input#tools-checkbox {:type \"checkbox\"}]\n          [:label.navbar-link {:for \"tools-checkbox\"} \"Tools\"]\n          [:div#tools-dropdown.navbar-dropdown.is-right\n           [:div.navbar-item\n            [:p.has-text-link.has-text-weight-bold \"Explore using tools\"]]\n           (navbar-clickable \"Waste by region\"\n                             [:span \"Discover and compare regional\"\n                              [:br] \"waste figures\"]\n                             (rfe/href :dcs.prototype-6.router/dashboard-view))\n           (navbar-clickable \"Waste sites\"\n                             [:span \"Waste sites and the quantities of\"\n                              [:br] \"materials that they receive\"]\n                             (rfe/href :dcs.prototype-6.router/waste-sites-map-view))\n           (navbar-clickable \"Household waste\"\n                             [:span \"Household quanitites through time\"]\n                             (rfe/href :dcs.prototype-6.router/waste-through-time-map-view {:preset \"hw-mgmt\"}))\n           (navbar-clickable [:span \"Household CO\" [:span {:dangerouslySetInnerHTML {:__html \"<sub>2</sub>\"}}] \"e\"]\n                             [:span \"Household CO\" [:span {:dangerouslySetInnerHTML {:__html \"<sub>2</sub>\"}}] \"e through time,\"\n                              [:br] \"on a map\"]\n                             (rfe/href :dcs.prototype-6.router/waste-through-time-map-view {:preset \"hw-co2e\"}))\n           (navbar-clickable \"Household vs business quantities\"\n                             [:span \"Household vs business quantities\"\n                              [:br] \"through time, on a map\"]\n                             (rfe/href :dcs.prototype-6.router/waste-through-time-map-view {:preset \"hvb\"}))]]\n\n         ;; Data\n         [:div.navbar-item.has-dropdown.is-hoverable\n          [:input#data-checkbox {:type \"checkbox\"}]\n          [:label.navbar-link {:for \"data-checkbox\"} \"Data\"]\n          [:div#data-dropdown.navbar-dropdown.is-right\n           [:div.navbar-item\n            [:p.has-text-link.has-text-weight-bold \"About the data on this site\"]]\n           (navbar-clickable \"Introduction\"\n                             [:span \"An introduction to our \" [:em \"easier-to-use\"] [:br]\n                              \"datasets and their dimensions\"]\n                             (rfe/href :dcs.prototype-6.router/easier-open-data-view))\n\n           [:hr.navbar-divider]\n           [:div.navbar-item\n            [:p.has-text-link.has-text-weight-bold \"Directly access the dataset files\"]]\n           (navbar-clickable  [:span \"Household waste \" [:span.has-text-info.is-size-7 \"(JSON)\"]]\n                             (str util/easier-repo-data \"household-waste.json\"))\n           (navbar-clickable [:span \"Household CO\" [:span {:dangerouslySetInnerHTML {:__html \"<sub>2</sub>\"}}] \"e \" [:span.has-text-info.is-size-7 \"(JSON)\"]]\n                             (str util/easier-repo-data \"household-co2e.json\"))\n           (navbar-clickable [:span \"Business waste by region \" [:span.has-text-info.is-size-7 \"(JSON)\"]]\n                             (str util/easier-repo-data \"business-waste-by-region.json\"))\n           (navbar-clickable [:span \"Business waste by sector \" [:span.has-text-info.is-size-7 \"(JSON)\"]]\n                             (str util/easier-repo-data \"business-waste-by-sector.json\"))\n           (navbar-clickable [:span \"Waste site \" [:span.has-text-info.is-size-7 \"(JSON)\"]]\n                             (str util/easier-repo-data \"waste-site.json\"))\n           (navbar-clickable [:span \"Waste site ins & outs \" [:span.has-text-info.is-size-7 \"(CSV)\"]]\n                             (str util/easier-repo-data \"waste-site-io.csv\"))\n           (navbar-clickable [:span \"Stirling bin collection \" [:span.has-text-info.is-size-7 \"(JSON)\"]]\n                             (str util/easier-repo-data \"stirling-bin-collection.json\"))\n           (navbar-clickable [:span \"Material coding \" [:span.has-text-info.is-size-7 \"(JSON)\"]]\n                             (str util/easier-repo-data \"material-coding.json\"))\n           (navbar-clickable [:span \"EWC coding \" [:span.has-text-info.is-size-7 \"(JSON)\"]]\n                             (str util/easier-repo-data \"ewc-coding.json\"))\n           (navbar-clickable [:span \"Households \" [:span.has-text-info.is-size-7 \"(JSON)\"]]\n                             (str util/easier-repo-data \"households.json\"))\n           (navbar-clickable [:span \"Population \" [:span.has-text-info.is-size-7 \"(JSON)\"]]\n                             (str util/easier-repo-data \"population.json\"))]]\n\n         ;; About\n         [:div.navbar-item.has-dropdown.is-hoverable\n          [:input#about-checkbox {:type \"checkbox\"}]\n          [:label.navbar-link {:for \"about-checkbox\"} \"About\"]\n          [:div#about-dropdown.navbar-dropdown.is-right\n           [:div.navbar-item\n            [:p.has-text-link.has-text-weight-bold \"This site\"]]\n           (navbar-clickable \"About this site\"\n                             (rfe/href :dcs.prototype-6.router/about-view))\n           [:hr.navbar-divider]\n           [:div.navbar-item\n            [:p.has-text-link.has-text-weight-bold \"The encompassing project\"]]\n           (navbar-clickable \"Blog site\"\n                             [:span \"For further information about the\" [:br]\n                              \"project and its activities\"]\n                             \"https://campuspress.stir.ac.uk/datacommonsscotland/\")\n           (navbar-clickable \"GitHub repositories\"\n                             [:span \"For some of the project\u2019s longer-lifespan\" [:br]\n                              \"outputs such as concepts/models, standards,\" [:br]\n                              \" research output and open source code.\"] ;; Explicit line breaking because I haven't figured out the Bulma CSS way of wrapping this text\n                             \"https://github.com/data-commons-scotland\")]]]]])"]}