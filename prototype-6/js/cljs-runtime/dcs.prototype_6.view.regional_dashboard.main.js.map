{"version":3,"sources":["dcs/prototype_6/view/regional_dashboard/main.cljs"],"mappings":";AAgBA,AAAA,AAAMA,AAAMC;AAAZ,AACM,AAAMC,AAAO,AAAAC,AAAQF;AAARE,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAA,AAAA,AAAAA;AAAAA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAA,AAAA,AAAAA;AAAA,AAAA,AAAA,AAAAA,AAAA;AAAA;;AAAA,AAAA,AAAAA;;;AAAb,AAEK,AAACC,AAAOC,AAAoBH;;AAFjC,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAWKI,AAIEC,AAIAC,AAGAC,AAGAC,AAEAC,AAGAC,AAEAC,AAEH,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAM,AAAA,AAAA,AAAAC,AAACC,AAAcV,AAIc,AAAA,AAACW,AASjCC,AAGAC,AAIFC","names":["dcs.prototype-6.view.regional-dashboard.main/root","route","region","G__34261","cljs.core/reset!","dcs.prototype-6.state/region-cursor","dcs.prototype-6.view.regional-dashboard.map/root","dcs.prototype-6.view.regional-dashboard.region-title/root","dcs.prototype-6.view.regional-dashboard.region-position/root","dcs.prototype-6.view.regional-dashboard.household-waste-derivation-generation/root","dcs.prototype-6.view.regional-dashboard.household-waste-derivation-composition/root","dcs.prototype-6.view.regional-dashboard.household-waste-derivation-management/root","dcs.prototype-6.view.regional-dashboard.household-waste-derivation-percent-recycled/root","dcs.prototype-6.view.regional-dashboard.household-co2e-derivation-generation/root","cljs.core/deref","cljs.core._EQ_","reitit.frontend.easy.href","dcs.prototype-6.view.regional-dashboard.business-waste-by-region-derivation-composition/root","dcs.prototype-6.view.regional-dashboard.business-waste-by-region-derivation-generation/root","dcs.prototype-6.view.regional-dashboard.waste-site-derivation/root"],"sourcesContent":["(ns dcs.prototype-6.view.regional-dashboard.main\n  (:require [reitit.frontend.easy :as rfe]\n            [dcs.prototype-6.state :as state]\n            [dcs.prototype-6.view.regional-dashboard.map :as map]\n            [dcs.prototype-6.view.regional-dashboard.region-title :as region-title]\n            [dcs.prototype-6.view.regional-dashboard.region-position :as region-position]\n            [dcs.prototype-6.view.regional-dashboard.waste-site-derivation :as waste-site-derivation]\n            [dcs.prototype-6.view.regional-dashboard.household-waste-derivation-generation :as household-waste-derivation-generation]\n            [dcs.prototype-6.view.regional-dashboard.household-waste-derivation-percent-recycled :as household-waste-derivation-percent-recycled]\n            [dcs.prototype-6.view.regional-dashboard.household-waste-derivation-management :as household-waste-derivation-management]\n            [dcs.prototype-6.view.regional-dashboard.household-waste-derivation-composition :as household-waste-derivation-composition]\n            [dcs.prototype-6.view.regional-dashboard.household-co2e-derivation-generation :as household-co2e-derivation-generation]\n            [dcs.prototype-6.view.regional-dashboard.business-waste-by-region-derivation-generation :as business-waste-by-region-derivation-generation]\n            [dcs.prototype-6.view.regional-dashboard.business-waste-by-region-derivation-composition :as business-waste-by-region-derivation-composition]))\n\n\n(defn root [route]\n      (let [region (some-> route :parameters :query :region)]\n           ;;(js/console.log (str \"region=\" region))\n           (reset! state/region-cursor region)\n\n      [:section.section\n        [:div.content.has-text-centered\n         [:h1.title.is-5 \"Regional dashboard\"]]\n\n        ;; Map column & household column, reversed-in\n        [:div.columns.is-vcentered.is-flex-direction-row-reverse\n         [:div.column.is-one-third\n          [map/root]]\n         [:div.column\n          [:div.columns\n           [:div.column.is-full\n            [region-title/root]]]\n          [:div.columns\n           [:div.column.is-two-fifths\n            [:h1.subtitle \"Household waste per person\"]\n            [region-position/root]]\n           [:div.column\n            [:h1.subtitle {:dangerouslySetInnerHTML {:__html \"&nbsp;\"}}]\n            [household-waste-derivation-generation/root]]]\n          [:div.columns\n           [:div.column.is-two-fifths\n            [household-waste-derivation-composition/root]]\n           [:div.column\n            [household-waste-derivation-management/root]]]\n          [:div.columns\n           [:div.column.is-two-fifths\n            [household-waste-derivation-percent-recycled/root]]\n           [:div.column\n            [household-co2e-derivation-generation/root]]]\n          ;; Replace this Stirling-specific example with a general approach for showing region-specific notes of interest\n          (when (= \"Stirling\" @state/region-cursor)\n                [:div.columns\n                 [:div.column.is-full\n                  [:div.content.has-text-centered.is-small\n                  [:p \"Related: \" [:a {:href (rfe/href :dcs.prototype-6.router/stirling-bin-collection-view)} \"Interesting facts about Stirling's bin collection\"] \".\"]]]])\n          ]]\n\n        ;; Business column\n        [:div.columns\n         [:div.column.is-two-thirds\n          [:div.columns\n           [:div.column.is-two-fifths\n            [:h1.subtitle \"Business waste for the region\"]\n            [business-waste-by-region-derivation-composition/root]]\n           [:div.column\n            [:h1.subtitle {:dangerouslySetInnerHTML {:__html \"&nbsp;\"}}]\n            [business-waste-by-region-derivation-generation/root]]]]\n         [:div.column\n          [:br]\n          [:h1.subtitle \"Operational waste sites in the region\"]\n          [waste-site-derivation/root]]]\n\n       ;; Info column\n       [:div.columns\n        [:div.column.is-full\n        [:div.content.is-small.has-text-info\n         [:ol\n          [:li \"The \" [:b \"carbon impact\"] \" is a measure devised by \" [:a {:href \"https://www.zerowastescotland.org.uk\" :target \"_blank\"} \"Zero Waste Scotland\"] \",\"\n           \" that conveys the whole-life carbon impact of waste,\"\n           \" from resource extraction and manufacturing emissions, right through to waste management emissions.\"\n           \" Its unit-of-measure is \" [:b \"tonnes of carbon dioxide equivalent\"] \" (\" [:b \"CO\" [:sub \"2\"] \"eT\"] \").\"]]]]]]))\n\n"]}